{"version":3,"sources":["webpack:///route-result.chunk.06710.js","webpack:///./demo/data.json","webpack:///./assets/image/msg_box.png","webpack:///./routes/result/style.css","webpack:///./assets/image/button_touse.png","webpack:///./routes/result/index.js","webpack:///./service/index.js","webpack:///./assets/image/button_bg.png"],"names":["webpackJsonp","150d","module","exports","1VKv","__webpack_require__","4Dw4","PPPf","T3sF","__webpack_exports__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","Result","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1__style__","n","__WEBPACK_IMPORTED_MODULE_1__style___default","__WEBPACK_IMPORTED_MODULE_2__base__","__WEBPACK_IMPORTED_MODULE_3__service__","__WEBPACK_IMPORTED_MODULE_4__assets_image_button_touse_png__","__WEBPACK_IMPORTED_MODULE_4__assets_image_button_touse_png___default","__WEBPACK_IMPORTED_MODULE_5__assets_image_button_bg_png__","__WEBPACK_IMPORTED_MODULE_5__assets_image_button_bg_png___default","__WEBPACK_IMPORTED_MODULE_6__assets_image_msg_box_png__","__WEBPACK_IMPORTED_MODULE_6__assets_image_msg_box_png___default","__WEBPACK_IMPORTED_MODULE_7__demo_data_json__","__WEBPACK_IMPORTED_MODULE_7__demo_data_json___default","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","SUCCESS","FAIL_DONE","FAIL_NOT_ALLOW","HELP_MSG1","data","config","fail_msg1","HELP_MSG2","fail_msg2","HELP_MSG3","fail_msg3","couponName","coupon_name","_ref2","src","button_touse","_temp","_this","_ret","_len","args","Array","_key","this","_Component","apply","concat","state","code","title","message","price","helpMessage","bgImage","couponUrl","toUseUrl","newCoupon","handleCoupon","Tracker","click","toUrl","navigation","pushWindow","handleToUse","handleNewCoupon","url","handleHelp","fetchJson","actId","console","log","getDataJson","then","res","success","bg_url","to_use_url","more_url","new_coupon","indexOf","JSON","parse","err","setState","JSAPI","hideLoading","catch","toast","componentDidMount","showLoading","urlParams","getUrlParams","window","authSDK","getUserInfo","tag","userId","document","addEventListener","history","AlipayJSBridge","componentWillUnmount","render","class","style","packet_container","crossImage","title_text","money_header","header","text_redbag","btn_touse","onClick","btn_more","button_bg","msg_box","bg","new_coupon_box","left_box","right_box","qiang","Component","U5uH","fetch","response","json","status","resultPageJson","warn","srBq"],"mappings":"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","file":"route-result.chunk.06710.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"150d\":\n/***/ (function(module, exports) {\n\nmodule.exports = {\"config\":{\"bg_url\":\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/result_bg.png\",\"coupon_name\":\"生活缴费红包\",\"fail_msg1\":\"(同身份证账号、手机号、支付宝、设备皆视为同一账号)\",\"fail_msg2\":\"如有疑问，请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\",\"fail_msg3\":\"请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\",\"to_use_url\":null,\"more_url\":\"https://www.taobao.com\",\"new_coupon\":{\"price\":\"10\",\"title\":\"文案\",\"url\":\"https://www.taobao.com\",\"bg\":\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/rpk_bg.png\"}}}\n\n/***/ }),\n\n/***/ \"1VKv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"9923348b18f7e1e5c93a230dee9951e0.png\";\n\n/***/ }),\n\n/***/ \"4Dw4\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"packet_container\":\"packet_container__QpO9h\",\"money_header\":\"money_header__rfEwU\",\"header\":\"header__27Qaa\",\"title_text\":\"title_text__3j2JW\",\"text_redbag\":\"text_redbag__23E-q\",\"text_desc\":\"text_desc__2hB0c\",\"btn_touse\":\"btn_touse__1ec_f\",\"btn_more\":\"btn_more__1aoON\",\"title\":\"title__sc4SK\",\"msg_box\":\"msg_box__3mmEg\",\"new_coupon_box\":\"new_coupon_box__1O8dA\",\"left_box\":\"left_box__FA0Vd\",\"right_box\":\"right_box__2qMkY\",\"qiang\":\"qiang__31rUV\",\"price\":\"price__3eL02\",\"btn_success\":\"btn_success__1tUfD\",\"btn_focus\":\"btn_focus__2uPwZ\",\"btn_default\":\"btn_default__31mMs\",\"packet_footer\":\"packet_footer__3FUXw\",\"tip\":\"tip__3RTP4\",\"quan\":\"quan__382xE\"};\n\n/***/ }),\n\n/***/ \"PPPf\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"4662aa0124e59b3fd176c5b8f9c5e5e4.png\";\n\n/***/ }),\n\n/***/ \"T3sF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Result; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"4Dw4\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base__ = __webpack_require__(\"qkdn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service__ = __webpack_require__(\"U5uH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__assets_image_button_touse_png__ = __webpack_require__(\"PPPf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__assets_image_button_touse_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__assets_image_button_touse_png__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__assets_image_button_bg_png__ = __webpack_require__(\"srBq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__assets_image_button_bg_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__assets_image_button_bg_png__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__assets_image_msg_box_png__ = __webpack_require__(\"1VKv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__assets_image_msg_box_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__assets_image_msg_box_png__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__demo_data_json__ = __webpack_require__(\"150d\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__demo_data_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__demo_data_json__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n//import result_bg from '../../assets/image/result_bg.png';\n\n\n\n\nvar SUCCESS = 'SUCCESS';\nvar FAIL = 'FAIL';\nvar ERROR = 'ERROR';\nvar FAIL_DONE = 'FAIL_DONE';\nvar FAIL_NOT_ALLOW = 'FAIL_NOT_ALLOW';\nvar MSG1 = '您已参加过活动';\nvar MSG2 = '您非本次活动渠道的关注用户';\nvar MSG3 = '来晚了，券已领完';\nvar HELP_MSG1 = __WEBPACK_IMPORTED_MODULE_7__demo_data_json___default.a.config.fail_msg1; //'(同身份证账号、手机号、支付宝、设备皆视为同一账号)'\nvar HELP_MSG2 = __WEBPACK_IMPORTED_MODULE_7__demo_data_json___default.a.config.fail_msg2; //'如有疑问，请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助'\nvar HELP_MSG3 = __WEBPACK_IMPORTED_MODULE_7__demo_data_json___default.a.config.fail_msg3; //'请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助'\nvar couponName = __WEBPACK_IMPORTED_MODULE_7__demo_data_json___default.a.config.coupon_name;\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('img', { src: __WEBPACK_IMPORTED_MODULE_4__assets_image_button_touse_png___default.a });\n\nvar Result = function (_Component) {\n\t_inherits(Result, _Component);\n\n\tfunction Result() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Result);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n\t\t\tcode: null,\n\t\t\ttitle: '',\n\t\t\tmessage: '',\n\t\t\tprice: 0,\n\t\t\thelpMessage: '',\n\t\t\tbgImage: '', //'https://front-h5.oss-cn-hangzhou.aliyuncs.com/img/beiyingmate/bg_result_beiyinmate2.png',\n\t\t\tcouponUrl: '',\n\t\t\ttoUseUrl: '',\n\t\t\tnewCoupon: {}\n\t\t}, _this.handleCoupon = function () {\n\t\t\tTracker.click('结果页面-更多福利', { toUrl: _this.state.couponUrl }, function () {\n\t\t\t\t_this.state.couponUrl && __WEBPACK_IMPORTED_MODULE_2__base__[\"c\" /* navigation */].pushWindow(_this.state.couponUrl, false);\n\t\t\t});\n\t\t}, _this.handleToUse = function () {\n\t\t\tTracker.click('结果页面-立即使用', { toUrl: _this.state.toUseUrl }, function () {\n\t\t\t\t_this.state.toUseUrl && __WEBPACK_IMPORTED_MODULE_2__base__[\"c\" /* navigation */].pushWindow(_this.state.toUseUrl, false);\n\t\t\t});\n\t\t}, _this.handleNewCoupon = function () {\n\t\t\tTracker.click('结果页面-底部-抢红包', { toUrl: _this.state.newCoupon.url }, function () {\n\t\t\t\t_this.state.newCoupon.url && __WEBPACK_IMPORTED_MODULE_2__base__[\"c\" /* navigation */].pushWindow(_this.state.newCoupon.url, false);\n\t\t\t});\n\t\t}, _this.handleHelp = function () {}, _this.fetchJson = function (actId) {\n\t\t\tconsole.log('fetchJson', _this.state, __WEBPACK_IMPORTED_MODULE_7__demo_data_json___default.a);\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_3__service__[\"a\" /* getDataJson */])(actId).then(function (res) {\n\t\t\t\tconsole.log('getDataJson res', res);\n\t\t\t\tvar config = __WEBPACK_IMPORTED_MODULE_7__demo_data_json___default.a.config || {};\n\t\t\t\tif (res && res.success && res.data) {\n\t\t\t\t\t_extends(config, res.data.config || {});\n\t\t\t\t}\n\t\t\t\tvar code = _this.state.code;\n\n\t\t\t\tHELP_MSG1 = config.fail_msg1;\n\t\t\t\tHELP_MSG2 = config.fail_msg2;\n\t\t\t\tHELP_MSG3 = config.fail_msg3;\n\t\t\t\tcouponName = config.coupon_name;\n\t\t\t\tvar helpMessage = code === SUCCESS ? couponName : code === FAIL_DONE ? HELP_MSG1 : code === FAIL_NOT_ALLOW ? HELP_MSG2 : ''; //HELP_MSG3\n\t\t\t\tvar bg_url = config.bg_url,\n\t\t\t\t    to_use_url = config.to_use_url,\n\t\t\t\t    more_url = config.more_url,\n\t\t\t\t    new_coupon = config.new_coupon;\n\n\t\t\t\tif (new_coupon && typeof new_coupon === 'string' && new_coupon.indexOf('{') > -1) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tnew_coupon = JSON.parse(new_coupon);\n\t\t\t\t\t} catch (err) {}\n\t\t\t\t}\n\t\t\t\t_this.setState({ helpMessage: helpMessage, bgImage: bg_url, toUseUrl: to_use_url, couponUrl: more_url, newCoupon: new_coupon });\n\t\t\t\tconsole.log('getDataJson', config, _this.state);\n\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__base__[\"a\" /* JSAPI */].hideLoading();\n\t\t\t}).catch(function (err) {\n\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__base__[\"a\" /* JSAPI */].hideLoading();\n\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__base__[\"a\" /* JSAPI */].toast('系统开小差了，请稍后再试');\n\t\t\t});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\t// gets called when this route is navigated to\n\tResult.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _this2 = this;\n\n\t\t__WEBPACK_IMPORTED_MODULE_2__base__[\"a\" /* JSAPI */].showLoading('加载中');\n\t\t// start a timer for the clock:\n\t\t//console.log('search',location.search);\n\t\t//console.log('hash',location.hash);\n\t\tvar urlParams = __WEBPACK_IMPORTED_MODULE_2__base__[\"c\" /* navigation */].getUrlParams();\n\t\tconsole.log('urlParams', urlParams);\n\n\t\tvar _ref = urlParams || {},\n\t\t    code = _ref.code,\n\t\t    title = _ref.title,\n\t\t    message = _ref.message,\n\t\t    price = _ref.price,\n\t\t    actId = _ref.actId;\n\n\t\ttitle = title || (code === SUCCESS ? '恭喜获得' : code === ERROR || code === FAIL ? '哎呦' : '抱歉');\n\t\tmessage = message || (code === SUCCESS ? '' : code === FAIL_DONE ? MSG1 : code === FAIL_NOT_ALLOW ? MSG2 : MSG3);\n\t\t//let  helpMessage = code===SUCCESS?\"生活缴费红包\":(code===FAIL_DONE?HELP_MSG1:(code===FAIL_NOT_ALLOW?HELP_MSG2:HELP_MSG3))\n\t\tthis.setState({ urlParams: urlParams, code: code, title: title, message: message, price: price, actId: actId });\n\t\twindow.authSDK.getUserInfo(function (res) {\n\t\t\tconsole.log(res);\n\t\t\tTracker.log({ tag: 'authSDK-getUserInfo', res: res });\n\t\t\tres && _this2.setState({ userId: res.userId });\n\t\t\tTracker.click('打开结果页面-' + code, { code: code, title: title, message: message });\n\t\t});\n\t\tthis.fetchJson(actId);\n\t\tdocument.addEventListener('back', function (e) {\n\t\t\t//alert('back');\n\t\t\tif (window.history.length > 1) {\n\t\t\t\twindow.AlipayJSBridge && window.AlipayJSBridge.call('popWindow');\n\t\t\t}\n\t\t}, false);\n\t};\n\n\t// gets called just before navigating away from the route\n\n\n\tResult.prototype.componentWillUnmount = function componentWillUnmount() {};\n\n\tResult.prototype.render = function render() {\n\t\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t'div',\n\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.packet_container },\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('img', { 'class': this.state.bgImage ? '' : 'hide', style: 'background:#F25917', src: Object(__WEBPACK_IMPORTED_MODULE_2__base__[\"b\" /* crossImage */])(this.state.bgImage, 750, 1206) }),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.title_text },\n\t\t\t\tthis.state.title\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': this.state.code === SUCCESS && this.state.price ? __WEBPACK_IMPORTED_MODULE_1__style___default.a.money_header : __WEBPACK_IMPORTED_MODULE_1__style___default.a.header },\n\t\t\t\tthis.state.code === SUCCESS ? this.state.price : this.state.message\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.text_redbag },\n\t\t\t\tthis.state.helpMessage\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': this.state.code === SUCCESS && this.state.toUseUrl ? __WEBPACK_IMPORTED_MODULE_1__style___default.a.btn_touse : 'hide', onClick: this.handleToUse },\n\t\t\t\t_ref2\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': this.state.code !== ERROR ? __WEBPACK_IMPORTED_MODULE_1__style___default.a.btn_more : 'hide', onClick: this.handleCoupon, style: 'background-image: url(' + __WEBPACK_IMPORTED_MODULE_5__assets_image_button_bg_png___default.a + ') ; background-size: 100%  100% ;' },\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.title },\n\t\t\t\t\t'\\u66F4\\u591A\\u798F\\u5229'\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': this.state.code !== ERROR ? __WEBPACK_IMPORTED_MODULE_1__style___default.a.msg_box : 'hide', onClick: this.handleHelp, style: 'background-image: url(' + __WEBPACK_IMPORTED_MODULE_6__assets_image_msg_box_png___default.a + ') ; background-size: 100%  100% ;' },\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('div', { 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.title })\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': this.state.newCoupon && this.state.newCoupon.title && this.state.newCoupon.bg ? __WEBPACK_IMPORTED_MODULE_1__style___default.a.new_coupon_box : 'hide', onClick: this.handleNewCoupon, style: 'background-image: url(' + Object(__WEBPACK_IMPORTED_MODULE_2__base__[\"b\" /* crossImage */])(this.state.newCoupon.bg) + ') ; background-size: 100%  100% ;' },\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.left_box },\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.title },\n\t\t\t\t\t\tthis.state.newCoupon.price\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.right_box },\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.title },\n\t\t\t\t\t\tthis.state.newCoupon.title\n\t\t\t\t\t),\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.qiang },\n\t\t\t\t\t\t'\\u62A2'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn Result;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"U5uH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getDataJson;\nfunction getDataJson(actId) {\n\treturn fetch('https://operation.allcitygo.com/oper-act-tmall/tmallActivity/getResultPageJson?activityId=' + actId).then(function (response) {\n\t\treturn response.json();\n\t}).then(function (res) {\n\t\tconsole.log('fetch getDataJson', res);\n\t\tif (res.status === 200 || res.code === '20000') {\n\t\t\tvar data = res.data || {};\n\t\t\t/*\r\n   {\"code\":\"20000\",\"msg\":\"Success\",\"data\":{\"activityId\":346,\"activityTmallId\":1,\"name\":\"测试\",\"startTime\":\"2019-09-10 01:47:30\",\"endTime\":\"2019-09-17 01:47:30\",\"status\":2,\"sellerId\":\"string\",\"targetNumber\":3000,\"linkType\":1,\"activityLink\":\"string\",\"resultPageTemplate\":3,\"resultPageJson\":\"{\\n    \\\"config\\\": {\\n      \\\"bg_url\\\": \\\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/result_bg.png\\\",\\n      \\\"coupon_name\\\": \\\"生活缴费红包\\\",\\n      \\\"fail_msg1\\\": \\\"(同身份证账号、手机号、支付宝、设备皆视为同一账号)\\\",\\n      \\\"fail_msg2\\\": \\\"如有疑问，请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\\\",\\n      \\\"fail_msg3\\\": \\\"请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\\\",\\n      \\\"to_use_url\\\": \\\"https://www.taobao.com\\\",\\n      \\\"more_url\\\": \\\"https://www.taobao.com\\\",\\n      \\\"new_coupon\\\":{\\n        \\\"price\\\":\\\"10\\\",\\n        \\\"title\\\":\\\"文案\\\",\\n        \\\"url\\\":\\\"https://www.taobao.com\\\",\\n        \\\"bg\\\": \\\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/rpk_bg.png\\\"\\n    }\\n}\\n  }\",\"equityType\":1,\"equityId\":\"1231\",\"whiteList\":\"string\",\"gmtCreate\":null,\"gmtModified\":null}}\r\n   */try {\n\t\t\t\tif (res.data && typeof res.data.resultPageJson === 'string' && res.data.resultPageJson.indexOf('{') === 0) {\n\t\t\t\t\tdata.config = JSON.parse(res.data.resultPageJson).config;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.warn(err);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tsuccess: true,\n\t\t\t\tdata: data || {}\n\t\t\t};\n\t\t}\n\t\treturn res;\n\t});\n}\n\n/***/ }),\n\n/***/ \"srBq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"560a01598c88aa3539f6eb0b287e1fa9.png\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-result.chunk.06710.js","module.exports = {\"config\":{\"bg_url\":\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/result_bg.png\",\"coupon_name\":\"生活缴费红包\",\"fail_msg1\":\"(同身份证账号、手机号、支付宝、设备皆视为同一账号)\",\"fail_msg2\":\"如有疑问，请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\",\"fail_msg3\":\"请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\",\"to_use_url\":null,\"more_url\":\"https://www.taobao.com\",\"new_coupon\":{\"price\":\"10\",\"title\":\"文案\",\"url\":\"https://www.taobao.com\",\"bg\":\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/rpk_bg.png\"}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./demo/data.json\n// module id = 150d\n// module chunks = 0 1","module.exports = __webpack_public_path__ + \"9923348b18f7e1e5c93a230dee9951e0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/image/msg_box.png\n// module id = 1VKv\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"packet_container\":\"packet_container__QpO9h\",\"money_header\":\"money_header__rfEwU\",\"header\":\"header__27Qaa\",\"title_text\":\"title_text__3j2JW\",\"text_redbag\":\"text_redbag__23E-q\",\"text_desc\":\"text_desc__2hB0c\",\"btn_touse\":\"btn_touse__1ec_f\",\"btn_more\":\"btn_more__1aoON\",\"title\":\"title__sc4SK\",\"msg_box\":\"msg_box__3mmEg\",\"new_coupon_box\":\"new_coupon_box__1O8dA\",\"left_box\":\"left_box__FA0Vd\",\"right_box\":\"right_box__2qMkY\",\"qiang\":\"qiang__31rUV\",\"price\":\"price__3eL02\",\"btn_success\":\"btn_success__1tUfD\",\"btn_focus\":\"btn_focus__2uPwZ\",\"btn_default\":\"btn_default__31mMs\",\"packet_footer\":\"packet_footer__3FUXw\",\"tip\":\"tip__3RTP4\",\"quan\":\"quan__382xE\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/result/style.css\n// module id = 4Dw4\n// module chunks = 0","module.exports = __webpack_public_path__ + \"4662aa0124e59b3fd176c5b8f9c5e5e4.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/image/button_touse.png\n// module id = PPPf\n// module chunks = 0","import { h, Component } from 'preact';\r\nimport style from './style';\r\nimport { crossImage ,navigation ,JSAPI } from '../../base';\r\nimport { getDataJson } from '../../service';\r\n//import result_bg from '../../assets/image/result_bg.png';\r\nimport button_touse from '../../assets/image/button_touse.png';\r\nimport button_bg from '../../assets/image/button_bg.png';\r\nimport msg_box from '../../assets/image/msg_box.png';\r\nimport data from '../../demo/data.json';\r\nconst SUCCESS = 'SUCCESS';\r\nconst FAIL = 'FAIL';\r\nconst ERROR = 'ERROR';\r\nconst FAIL_DONE = 'FAIL_DONE';\r\nconst FAIL_NOT_ALLOW = 'FAIL_NOT_ALLOW';\r\nconst MSG1='您已参加过活动';\r\nconst MSG2='您非本次活动渠道的关注用户';\r\nconst MSG3='来晚了，券已领完';\r\nlet HELP_MSG1=data.config.fail_msg1;//'(同身份证账号、手机号、支付宝、设备皆视为同一账号)'\r\nlet HELP_MSG2=data.config.fail_msg2;//'如有疑问，请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助'\r\nlet HELP_MSG3=data.config.fail_msg3;//'请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助'\r\nlet couponName = data.config.coupon_name;\r\nexport default class Result extends Component {\r\n\tstate = {\r\n\t\tcode: null,\r\n\t\ttitle: '',\r\n\t\tmessage: '',\r\n\t\tprice: 0,\r\n\t\thelpMessage: '',\r\n\t\tbgImage: '',//'https://front-h5.oss-cn-hangzhou.aliyuncs.com/img/beiyingmate/bg_result_beiyinmate2.png',\r\n\t\tcouponUrl: '',\r\n\t\ttoUseUrl: '',\r\n\t\tnewCoupon: { }\r\n\t};\r\n\thandleCoupon=() => {\r\n\t\tTracker.click('结果页面-更多福利', { toUrl: this.state.couponUrl }, () => {\r\n\t\t\tthis.state.couponUrl && (navigation.pushWindow(this.state.couponUrl,false));\r\n\t\t});\r\n\t}\r\n\thandleToUse=() => {\r\n\t\tTracker.click('结果页面-立即使用', { toUrl: this.state.toUseUrl }, () => {\r\n\t\t\tthis.state.toUseUrl && (navigation.pushWindow(this.state.toUseUrl,false));\r\n\t\t});\r\n\t}\r\n\thandleNewCoupon=() => {\r\n\t\tTracker.click('结果页面-底部-抢红包', { toUrl: this.state.newCoupon.url }, () => {\r\n\t\t\tthis.state.newCoupon.url && (navigation.pushWindow(this.state.newCoupon.url,false));\r\n\t\t});\r\n\t\t\r\n\t}\r\n\thandleHelp=() => {\r\n\r\n\t}\r\n\tfetchJson =(actId) => {\r\n\t\tconsole.log('fetchJson',this.state,data);\r\n\t\tgetDataJson(actId).then((res) => {\r\n\t\t\tconsole.log('getDataJson res',res);\r\n\t\t\tlet config = data.config || {};\r\n\t\t\tif (res && res.success && res.data){\r\n\t\t\t\tObject.assign(config,res.data.config || {});\r\n\t\t\t}\r\n\t\t\tlet { code } = this.state;\r\n\t\t\tHELP_MSG1=config.fail_msg1;\r\n\t\t\tHELP_MSG2=config.fail_msg2;\r\n\t\t\tHELP_MSG3=config.fail_msg3;\r\n\t\t\tcouponName = config.coupon_name;\r\n\t\t\tlet  helpMessage = code===SUCCESS?couponName:(code===FAIL_DONE?HELP_MSG1:(code===FAIL_NOT_ALLOW?HELP_MSG2:''));//HELP_MSG3\r\n\t\t\tlet { bg_url,\r\n\t\t\t\tto_use_url,\r\n\t\t\t\tmore_url,\r\n\t\t\t\tnew_coupon } = config;\r\n\t\t\tif (new_coupon && typeof new_coupon ==='string' && new_coupon.indexOf('{')>-1){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tnew_coupon = JSON.parse(new_coupon);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err){}\r\n\t\t\t}\r\n\t\t\tthis.setState({ helpMessage,bgImage: bg_url,toUseUrl: to_use_url,couponUrl: more_url,newCoupon: new_coupon });\r\n\t\t\tconsole.log('getDataJson',config,this.state);\r\n\t\t\tJSAPI.hideLoading();\r\n\t\t}).catch((err) => {\r\n\t\t\tJSAPI.hideLoading();\r\n\t\t\tJSAPI.toast('系统开小差了，请稍后再试');\r\n\t\t});\r\n\t\t\r\n\t}\r\n\r\n\r\n\t// gets called when this route is navigated to\r\n\tcomponentDidMount() {\r\n\t\tJSAPI.showLoading('加载中');\r\n\t\t// start a timer for the clock:\r\n\t\t//console.log('search',location.search);\r\n\t\t//console.log('hash',location.hash);\r\n\t\tlet urlParams = navigation.getUrlParams();\r\n\t\tconsole.log('urlParams',urlParams);\r\n\t\tlet { code,title,message,price,actId } = urlParams || {};\r\n\t\ttitle =  title || (code===SUCCESS?'恭喜获得':(code===ERROR || code===FAIL?'哎呦':'抱歉'));\r\n\t\tmessage =  message || (code===SUCCESS?'':(code===FAIL_DONE?MSG1:(code===FAIL_NOT_ALLOW?MSG2:MSG3)));\r\n\t\t//let  helpMessage = code===SUCCESS?\"生活缴费红包\":(code===FAIL_DONE?HELP_MSG1:(code===FAIL_NOT_ALLOW?HELP_MSG2:HELP_MSG3))\r\n\t\tthis.setState({ urlParams,code,title, message,price,actId });\r\n\t\twindow.authSDK.getUserInfo((res) => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tTracker.log({ tag: 'authSDK-getUserInfo', res });\r\n\t\t\tres && this.setState({ userId: res.userId });\r\n\t\t\tTracker.click('打开结果页面-'+code, { code,title,message });\r\n\t\t});\r\n\t\tthis.fetchJson(actId);\r\n\t\tdocument.addEventListener('back', (e) => {\r\n\t\t\t//alert('back');\r\n\t\t\tif (window.history.length > 1){\r\n\t\t\t\twindow.AlipayJSBridge && window.AlipayJSBridge.call('popWindow');\r\n\t\t\t}\r\n\t\t}, false);\r\n\t}\r\n\r\n\t// gets called just before navigating away from the route\r\n\tcomponentWillUnmount() {\r\n\t\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div class={style.packet_container}>\r\n\t\t\t\t<img class={this.state.bgImage?'':'hide'} style=\"background:#F25917\" src={crossImage(this.state.bgImage,750,1206)} />\r\n\t\t\t\t<div class={style.title_text}>{this.state.title}</div>\r\n\t\t\t\t<div class={this.state.code ===SUCCESS&& this.state.price?style.money_header:style.header}>{this.state.code ===SUCCESS?this.state.price:this.state.message}</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t<div class={style.text_redbag}>{this.state.helpMessage}</div>\r\n\t\t\t\t<div class={this.state.code ===SUCCESS && this.state.toUseUrl?style.btn_touse:'hide'} onClick={this.handleToUse}><img src={button_touse} /></div>\r\n\t\t\t\t<div class={this.state.code !==ERROR?style.btn_more:'hide'} onClick={this.handleCoupon} style={`background-image: url(${button_bg}) ; background-size: 100%  100% ;`} >\r\n\t\t\t\t\t<div class={style.title}>更多福利</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class={this.state.code !==ERROR?style.msg_box:'hide'} onClick={this.handleHelp} style={`background-image: url(${msg_box}) ; background-size: 100%  100% ;`}  >\r\n\t\t\t\t\t<div class={style.title} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class={(this.state.newCoupon && this.state.newCoupon.title && this.state.newCoupon.bg)?style.new_coupon_box:'hide'} onClick={this.handleNewCoupon} style={`background-image: url(${crossImage(this.state.newCoupon.bg)}) ; background-size: 100%  100% ;`}   >\r\n\t\t\t\t\t<div class={style.left_box}><div class={style.title}>{this.state.newCoupon.price}</div></div>\r\n\t\t\t\t\t<div class={style.right_box}>\r\n\t\t\t\t\t\t<div class={style.title}>{this.state.newCoupon.title}</div>\r\n\t\t\t\t\t\t<div class={style.qiang}>抢</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/result/index.js","export function getDataJson(actId){\r\n\treturn fetch(`https://operation.allcitygo.com/oper-act-tmall/tmallActivity/getResultPageJson?activityId=${actId}`)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((res) => {\r\n\t\t\tconsole.log('fetch getDataJson',res);\r\n\t\t\tif (res.status===200 || res.code=== '20000'){\r\n\t\t\t\tlet data =res.data || {};\r\n\t\t\t\t/*\r\n\t\t{\"code\":\"20000\",\"msg\":\"Success\",\"data\":{\"activityId\":346,\"activityTmallId\":1,\"name\":\"测试\",\"startTime\":\"2019-09-10 01:47:30\",\"endTime\":\"2019-09-17 01:47:30\",\"status\":2,\"sellerId\":\"string\",\"targetNumber\":3000,\"linkType\":1,\"activityLink\":\"string\",\"resultPageTemplate\":3,\"resultPageJson\":\"{\\n    \\\"config\\\": {\\n      \\\"bg_url\\\": \\\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/result_bg.png\\\",\\n      \\\"coupon_name\\\": \\\"生活缴费红包\\\",\\n      \\\"fail_msg1\\\": \\\"(同身份证账号、手机号、支付宝、设备皆视为同一账号)\\\",\\n      \\\"fail_msg2\\\": \\\"如有疑问，请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\\\",\\n      \\\"fail_msg3\\\": \\\"请关注“众城通”支付宝生活号，回复“Babycare”获取客服帮助\\\",\\n      \\\"to_use_url\\\": \\\"https://www.taobao.com\\\",\\n      \\\"more_url\\\": \\\"https://www.taobao.com\\\",\\n      \\\"new_coupon\\\":{\\n        \\\"price\\\":\\\"10\\\",\\n        \\\"title\\\":\\\"文案\\\",\\n        \\\"url\\\":\\\"https://www.taobao.com\\\",\\n        \\\"bg\\\": \\\"https://img-citytsm.oss-cn-hangzhou.aliyuncs.com/image/tb/rpk_bg.png\\\"\\n    }\\n}\\n  }\",\"equityType\":1,\"equityId\":\"1231\",\"whiteList\":\"string\",\"gmtCreate\":null,\"gmtModified\":null}}\r\n\t\t*/      try {\r\n\t\t\t\t if (res.data && typeof res.data.resultPageJson ==='string' && res.data.resultPageJson.indexOf('{')===0){\r\n\t\t\t\t\t\tdata.config = JSON.parse(  res.data.resultPageJson ).config;\r\n\t\t\t\t }\r\n\t\t\t    }\r\n\t\t\t\tcatch (err){\r\n\t\t\t\t\tconsole.warn(err);\r\n\t\t\t   }\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\tdata: data||{}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t\t\r\n\t\t      \r\n\t\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./service/index.js","module.exports = __webpack_public_path__ + \"560a01598c88aa3539f6eb0b287e1fa9.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/image/button_bg.png\n// module id = srBq\n// module chunks = 0"],"sourceRoot":""}